## 복사 생성자와 정적 멤버



---



- **객체를 함수로 전달하기**
  - 함수 호출시 객체를 매개변수로 전달하면 객체의 복사가 일어난다
  - 내가 만들지 않아도 컴파일러가 디폴트 복사 생성자가 만들어져 실행된다(그러나 직접 만들어야 하는 때가 있다)

- **함수가 객체를 반환**

  - 객체를 함수의 매개변수로 전달할 때와 같이 객체의 복사가 일어난다
  - Pizza createPizza(){ -> factory 함수
  - Pizza p(10);
  - return p;
  - }

  - Pizza pizza = createPizza(); // 값이 넘어가면 createPizza 사라짐

- **복사 생성자가 사용되는 시점**

  - 함수의 매개변수로 객체 전달할 때 (일종의 대입임)
  - 객체를 대입할 때

- **복사 생성자**

- MyClass(const MyClass & other){ // other은 t1

- //객체 초기화 

- // this는 t2

- }

- MyClass t1;

- MyClass t2 = t1;

  - MyClass(MyClass other)로 하면 무한 루프 발생하므로 주의!
  - 값을 그대로 복사한다
  - 복사 생성자를 정의하지 않으면 자동으로 추가된다
    - 멤버 변수에 대한 얕은 복사 진행
  - 깊은 복사가 필요한 경우 복사 생성자 정의 필요

- deep copy -> 포인터를 따라서 다 복사 (동적 메모리(힙)도 복사)

- 깊은 복사를 원한다면 복사 생성자를 생성해서 복사 메커니즘을 구현해줘야 함

  